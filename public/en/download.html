<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>AI Lab</title>
  <link rel="stylesheet" href="/assets/css/base.css" />
  <link rel="stylesheet" href="/assets/css/theme.css" />
</head>

<body data-page="download">
  <!-- 世界层 -->
  <canvas id="particles"></canvas>

  <!-- 导航（始终一致） -->
  <header class="site-header">
    <div class="container header-inner">
        <a class="logo" href="/en/">
            <img src="/assets/svg/logo.svg" alt="AI Lab Logo" />
        </a>
        <nav class="nav">
            <a href="/en/manifesto.html">Manifesto</a>
            <a href="/en/how-it-works.html">How it works</a>
            <a href="/en/pricing.html">Pricing</a>
            <a href="/en/download.html" class="nav-cta">Download</a>
        </nav>
    </div>
</header>

    <main class="download-frame">
      <!-- 粒子背景 -->
      <canvas id="particles"></canvas>
  
      <!-- 内容 -->
      <section class="download-hero">
        <h1>
          Download AI Lab<br />
          for macOS
        </h1>
  
        <div class="download-actions">
          <a class="btn primary" href="#">
            Download for Apple Silicon
          </a>
          <a class="btn secondary" href="#">
            Download for Intel
          </a>
        </div>
      </section>
    </main>
   <!-- 页脚（世界背景） -->
   <footer class="site-footer">
    AI Lab · Offline First · Education Safe
  </footer>

  <!-- 页面初始化 -->
  <script type="module">
    import { mountParticles } from "/assets/js/particles/mount.js";
    mountParticles(document.body.dataset.page);
  </script>
</body>
</html>

  <script>
    const canvas = document.getElementById("particles");
    const ctx = canvas.getContext("2d");
    
    let w, h;
    function resize() {
      w = canvas.width = canvas.offsetWidth;
      h = canvas.height = canvas.offsetHeight;
    }
    resize();
    window.addEventListener("resize", resize);
    
    // 鼠标场
    const mouse = {
      x: -9999,
      y: -9999
    };
    
    window.addEventListener("mousemove", e => {
      const rect = canvas.getBoundingClientRect();
      mouse.x = e.clientX - rect.left;
      mouse.y = e.clientY - rect.top;
    });
    
    window.addEventListener("mouseleave", () => {
      mouse.x = mouse.y = -9999;
    });
    
    // 粒子定义
    const COUNT = 220;
    const particles = Array.from({ length: COUNT }, (_, i) => {
      const baseX = Math.random() * w;
      const baseY = Math.random() * h;
    
      return {
        baseX,
        baseY,
        x: baseX,
        y: baseY,
        r: Math.random() * 1.4 + 0.4,
        phase: Math.random() * Math.PI * 2,
        speed: Math.random() * 0.0006 + 0.0003
      };
    });
    
    let time = 0;
    
    function draw() {
      ctx.clearRect(0, 0, w, h);
    
      time += 1;
    
      for (const p of particles) {
        // ===== Wave（反重力核心）=====
        const waveX =
          Math.sin(time * p.speed + p.phase) * 24;
        const waveY =
          Math.cos(time * p.speed * 0.8 + p.phase) * 18;
    
        let x = p.baseX + waveX;
        let y = p.baseY + waveY;
    
        // ===== 鼠标扰动场 =====
        const dx = x - mouse.x;
        const dy = y - mouse.y;
        const dist = Math.sqrt(dx * dx + dy * dy);
    
        if (dist < 160) {
          const force = (160 - dist) / 160;
          x += (dx / dist) * force * 28;
          y += (dy / dist) * force * 28;
        }
    
        p.x = x;
        p.y = y;
    
        // ===== 绘制 =====
        ctx.beginPath();
        ctx.arc(p.x, p.y, p.r, 0, Math.PI * 2);
        ctx.fillStyle = "rgba(122,162,255,0.85)";
        ctx.fill();
      }
    
      requestAnimationFrame(draw);
    }
    
    draw();
    </script>
    